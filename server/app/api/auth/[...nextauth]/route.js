"use strict";(()=>{var e={};e.id=912,e.ids=[912],e.modules={72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},27790:e=>{e.exports=require("assert")},78893:e=>{e.exports=require("buffer")},84770:e=>{e.exports=require("crypto")},17702:e=>{e.exports=require("events")},92048:e=>{e.exports=require("fs")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},19801:e=>{e.exports=require("os")},55315:e=>{e.exports=require("path")},86624:e=>{e.exports=require("querystring")},76162:e=>{e.exports=require("stream")},74175:e=>{e.exports=require("tty")},17360:e=>{e.exports=require("url")},21764:e=>{e.exports=require("util")},71568:e=>{e.exports=require("zlib")},45454:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>g,patchFetch:()=>w,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>x,staticGenerationAsyncStorage:()=>h});var a={};t.r(a),t.d(a,{GET:()=>u,POST:()=>u,dynamic:()=>c});var s=t(49303),o=t(88716),n=t(60670),i=t(53773),p=t(75571),l=t.n(p);let c="force-dynamic",u=l()(i.L),d=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/auth/[...nextauth]/route",pathname:"/api/auth/[...nextauth]",filename:"route",bundlePath:"app/api/auth/[...nextauth]/route"},resolvedPagePath:"/Users/alvarovaldez-duran/Desktop/School/PersonalProjects/PortfolioWebsite/src/app/api/auth/[...nextauth]/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:m,staticGenerationAsyncStorage:h,serverHooks:x}=d,g="/api/auth/[...nextauth]/route";function w(){return(0,n.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:h})}},53773:(e,r,t)=>{t.d(r,{L:()=>i});var a=t(53797),s=t(29712),o=t(26465);let n=s.Z.create({baseURL:"http://localhost:4000/"});n.interceptors.request.use(async e=>{let r=await (0,o.getSession)();return r?.token.accessToken&&(e.headers.Authorization=`Bearer ${r?.token.accessToken}`),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>"ECONNREFUSED"===e.code?Promise.reject({message:"Connection refused. The credential server may be down."}):e.response.status>=500?Promise.reject({message:"Server Error. Contact support"}):(401!==e.response.status||window.location.href.includes("/login")||(window.location.pathname="/login"),Promise.reject(e.response&&e.response.data||"Wrong Services")));let i={providers:[(0,a.Z)({id:"login",name:"login",credentials:{email:{name:"email",label:"Email",type:"email",placeholder:"Enter Email"},password:{name:"password",label:"Password",type:"password",placeholder:"Enter Password"}},async authorize(e){try{let r=await n.post("/login",{password:e?.password,email:e?.email});if(r)return r.data.user.accessToken=r.data.accessToken,r.data.user}catch(e){throw console.dir(e),Error(e?.message||e?.response?.data?.message||"Something went wrong!")}}}),(0,a.Z)({id:"register",name:"register",credentials:{firstname:{name:"firstname",label:"Firstname",type:"text",placeholder:"Enter Firstname"},lastname:{name:"lastname",label:"Lastname",type:"text",placeholder:"Enter Lastname"},email:{name:"email",label:"Email",type:"email",placeholder:"Enter Email"},company:{name:"company",label:"Company",type:"text",placeholder:"Enter Company"},password:{name:"password",label:"Password",type:"password",placeholder:"Enter Password"}},async authorize(e){try{let r=await n.post("/register",{firstname:e?.firstname,lastname:e?.lastname,company:e?.company,password:e?.password,email:e?.email,role:1,username:e?.email,phone:"728-238-2380"});if(console.dir(r),r)return r.data.user.accessToken=r.data.accessToken,r.data.user}catch(e){throw Error(e?.message||e?.response?.data?.message||"Something went wrong!")}}})],callbacks:{jwt:async({token:e,user:r,account:t})=>(r&&(e.accessToken=r.accessToken,e.id=r.id,e.provider=t?.provider),e),session:({session:e,token:r})=>(r&&(e.id=r.id,e.provider=r.provider,e.token=r),e)},session:{strategy:"jwt",maxAge:Number("86400")},jwt:{secret:"ikRgjkhi15HJiU78-OLKfjngiu="},pages:{signIn:"/login",newUser:"/register"}}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[948,365],()=>t(45454));module.exports=a})();